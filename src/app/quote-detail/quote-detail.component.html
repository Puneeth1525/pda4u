
<div class="connection-create-template">
  <div class="headerContainer">
    <div class="left-elements">
      <div class="left-child">
        <div class="back-circle">
          <div
            class="circle"
            [routerLink]="['/quote-summary']"
            routerLinkActive="router-link-active"
          >
            <mat-icon class="back" svgIcon="back">arrow_back</mat-icon>
          </div>
        </div>
      </div>
      <div class="right-child">
        <div class="bread-crum">Quote Summary / <span>{{ quoteDetails.quoteNumber }}</span></div>
        <!-- <div class="template-label"></div> -->
      </div>
    </div>

    <div class="right-elements">
      <!-- <button
        class="theme-button active-btn"
        mat-flat-button
        aria-label="Edit Template"
        routerLinkActive="button-active"
        routerLink="/connections/view"
      >
        <mat-icon svgIcon="test"></mat-icon>Test
      </button>

      <button
        class="theme-button orange-btn"
        mat-flat-button
        aria-label="Edit Template"
        routerLinkActive="button-active"
        routerLink="/connections/view"
      >
        <mat-icon svgIcon="save"></mat-icon>Save
      </button> -->
    </div>
  </div>
  <div class="childContainer">
    <div class="inner-headerContainer">
      <div class="left-elements">
        <div class="right-child">
          <div class="temp-properties-name">Quote Details</div>
        </div>
      </div>
    </div>
    <div class="main-container">
      <div class="full-width">
        <div class="one-line">
          <div class="left-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Quote:</label>
              </div>
              <label class="input-value">{{quoteDetails.quoteNumber}}</label>
            </div>
          </div>
          <div class="middle-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Exceptions:</label>
              </div>
              <label class="input-value">{{ exceptionsList }}</label>
            </div>
          </div>
        </div>

        <div class="inner-headerContainer">
          <div class="left-elements">
            <div class="right-child">
              <div class="temp-properties-name">Contact Information</div>
            </div>
          </div>
        </div>

        <div class="one-line">
          <div class="left-box">

            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Account *</label>
              </div>
              <mat-form-field appearance="outline" class="select-container">
                <input [(ngModel)]="accountName" matInput type="search" />
                <mat-icon (click)="openAccountLookup()" matSuffix>search</mat-icon>
              </mat-form-field>
            </div>
          </div>
          <div class="middle-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">dd3</label>
              </div>
              <mat-form-field appearance="outline" class="select-container">
                <mat-select placeholder="{{quoteDetails.customerInformation.dd1}}">
                  <mat-option *ngFor="let option of options" [value]="option">
                    {{ option }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="right-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">tb2</label>
              </div>
              <mat-form-field appearance="outline" class="select-container">
                <mat-select placeholder="{{quoteDetails.customerInformation.dd2}}">
                  <mat-option *ngFor="let option of options" [value]="option">
                    {{ option }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="one-line">
          <div class="one-third-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">R-TB1</label>
              </div>
              <mat-form-field appearance="outline" class="select-container">
                <input matInput [(ngModel)]="quoteDetails.customerInformation.rtb1" />
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="one-line">
          <div class="left-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Name *</label>
              </div>
              <mat-form-field appearance="outline">
                <input
                  type="text"
                  matInput
                  [(ngModel)]="quoteDetails.customerInformation.contactInformation.name"
                />
              </mat-form-field>
            </div>
          </div>
          <div class="middle-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Phone *</label>
              </div>
              <mat-form-field appearance="outline">
                <input
                  type="text"
                  matInput
                  [(ngModel)]="quoteDetails.customerInformation.contactInformation.phone"
                />
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="one-line">
          <div class="left-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Email *</label>
              </div>
              <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="quoteDetails.customerInformation.contactInformation.email" name="email" />
              </mat-form-field>
              <!-- <div *ngIf="emailError" class="error-message">{{ emailError }}</div> -->
            </div>
          </div>
        </div>

        <div class="inner-headerContainer">
          <div class="left-elements">
            <div class="right-child">
              <div class="temp-properties-name">Shipping Information</div>
            </div>
          </div>
        </div>
        <div class="one-line">
          <div class="left-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Origin</label>
              </div>
              <mat-form-field appearance="outline">
                <mat-select [(ngModel)]="selectedOrigin" placeholder="Select Origin">
                  <mat-option value="United States">United States</mat-option>
                  <mat-option value="Mexico">Mexico</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="big-middle">
            <div class="input-container type-ahead" style="margin-top: 2.5%;">
              <mat-form-field appearance="outline">
                <input class="api" matInput placeholder="Zip" [(ngModel)]="originZipCode" (input)="fetchOriginZipDetails()" [matAutocomplete]="autoOrigin">
              </mat-form-field>

              <mat-autocomplete #autoOrigin="matAutocomplete">
                <mat-option *ngFor="let detail of originZipDetails" [value]="detail.zipCode" (onSelectionChange)="onOriginZipSelection(detail)">
                  {{ detail.zipCode }}-{{ detail.city }}-{{ detail.stateProvince }}
                </mat-option>
              </mat-autocomplete>

              <mat-form-field appearance="outline">
                <input class="api" matInput placeholder="City" [(ngModel)]="selectedOriginCity" />
              </mat-form-field>

              <mat-form-field appearance="outline">
                <input class="api" matInput placeholder="State" [(ngModel)]="selectedOriginState" />
              </mat-form-field>
            </div>

          </div>
          <div class="right-box clear-btn" style="margin-top: 3%;">
            <button
        class="theme-button active-btn"
        mat-flat-button
        aria-label="Edit Template"
        (click)="clearOrigin()"
      >
        <mat-icon svgIcon="edit-white"></mat-icon>Clear
      </button>

          </div>
        </div>
        <div class="one-line">
          <div class="left-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">Destination</label>
              </div>
              <mat-form-field appearance="outline">
                <mat-select [(ngModel)]="selectedDestination" placeholder="Select Origin">
                  <mat-option value="United States">United States</mat-option>
                  <mat-option value="Mexico">Mexico</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="big-middle">
            <div class="input-container type-ahead" style="margin-top: 2.4%;">
              <mat-form-field appearance="outline">
                <input class="api" matInput placeholder="Zip" [(ngModel)]="zipCode" (input)="fetchZipDetails()"
                  [matAutocomplete]="auto">
              </mat-form-field>

              <mat-autocomplete #auto="matAutocomplete">
                <mat-option *ngFor="let detail of zipDetails" [value]="detail.zipCode"
                  (onSelectionChange)="onZipSelection(detail)">
                  {{ detail.zipCode }}-{{ detail.city }}-{{ detail.stateProvince }}
                </mat-option>
              </mat-autocomplete>

              <mat-form-field appearance="outline">
                <input class="api" matInput placeholder="City" [(ngModel)]="selectedCity" />
              </mat-form-field>

              <mat-form-field appearance="outline">
                <input class="api" matInput placeholder="State" [(ngModel)]="selectedState" />
              </mat-form-field>
            </div>

          </div>
          <div class="right-box clear-btn" style="margin-top: 2.75%;">
            <button class="theme-button active-btn" mat-flat-button aria-label="Edit Template" (click)="clearDestination()">
              <mat-icon svgIcon="edit-white"></mat-icon>Clear
            </button>

          </div>
        </div>
        <div class="inner-headerContainer">
          <div class="left-elements">
            <div class="right-child">
              <div class="temp-properties-name">Com</div>
            </div>
          </div>
        </div>

        <div class="one-line" *ngFor="let com of quoteDetails.com.coms.slice(0, quoteDetails.com.coms.length - 1); let i = index">
          <div class="left-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">dd3 ({{i+2}})</label>
              </div>
              <mat-form-field appearance="outline">
                <mat-select [(ngModel)]="com.dd3">
                  <mat-option *ngFor="let option of dd3s" [value]="option">
                    {{ option }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="middle-box">
            <div class="input-container">
              <div class="label-container">
                <label class="input-label">tb3 ({{i+2}})</label>
              </div>
              <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="com.tb2" />
              </mat-form-field>
            </div>
          </div>
          <div class="remove-box">
            <button class="remove-button" mat-button (click)="removeComField(i)">
              <mat-icon>close</mat-icon>
            </button>
          </div>
        </div>

        <div class="button-container">
          <button
            class="theme-button active-btn"
            mat-flat-button
            aria-label="Add Com Details"
            (click)="addInputField()"
          >
            <mat-icon svgIcon="edit-white"></mat-icon>Add Com Details
          </button>
        </div>





        <div class="inner-headerContainer">
          <div class="left-elements">
            <div class="right-child">
              <div class="temp-properties-name">Total Charges</div>
            </div>
          </div>
        </div>

        <div class="billing-container">
          <div class="updated"><span>Base Rate</span>{{quoteDetails.totalCharges.baseRate}} </div>
          <div class="updated"><span>Acc</span> {{quoteDetails.totalCharges.acc}}</div>
          <div class="updated final-rate"><span>Final Rate </span> {{quoteDetails.totalCharges.finalRate}}</div>
        </div>




      </div>




      <!--Main Container End-->
    </div>



    <div class="delete-container">

      <button
        class="theme-button active-btn"
        mat-flat-button
        (click)="openEmail()"
      >
        <mat-icon svgIcon="edit-white"></mat-icon>Email
      </button>

      <button
        class="theme-button orange-btn"
        mat-flat-button
        (click)="saveQuoteDetails()"
      >
        <mat-icon svgIcon="save"></mat-icon>Save
      </button>
      <button
        class="theme-button green-btn"
        mat-flat-button
      >
        <mat-icon svgIcon="share"></mat-icon>Publish
      </button>
    </div>
  </div>
</div>
